<?php
$array = '[
    [{"tiles":[2801, 141]},     {"tiles":[2801, 142]},      {"tiles":[2801, 143]},      {"tiles":[2801, 141]},  {"tiles":[2801, 142]},  {"tiles":[2801, 143, 10954]},   {"tiles":[2801, 141, 10955]},   {"tiles":[2801, 142, 10956]},  {"tiles":[2801, 143, 10957]},    {"tiles":[2801, 141, 10958]},    {"tiles":[2801, 142]}, {"tiles":[2801, 143]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 281]},     {"tiles":[2801, 282]},      {"tiles":[2801, 283]},      {"tiles":[2801, 281]},  {"tiles":[2801, 282]},  {"tiles":[2801, 283, 11094]},   {"tiles":[2801, 11095]},        {"tiles":[2801, 11096]},  {"tiles":[2801, 11097]},              {"tiles":[2801, 281, 11098]},    {"tiles":[2801, 282]}, {"tiles":[2801, 283]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 1]},       {"tiles":[2801, 2]},        {"tiles":[2801, 3]},        {"tiles":[2801]},       {"tiles":[2801]},       {"tiles":[2801, 11094]},        {"tiles":[2801, 11235]},        {"tiles":[2801, 11236]},{"tiles":[2801, 11237]},                {"tiles":[2801, 11238]},         {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 141]},     {"tiles":[2801, 142]},      {"tiles":[2801, 143]},      {"tiles":[2801]},       {"tiles":[2801]},       {"tiles":[2801, 11374]},        {"tiles":[2801, 11375]},        {"tiles":[2801, 11376]},{"tiles":[2801, 11377]},                {"tiles":[2801, 11378]},         {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 281]},     {"tiles":[2801, 282]},      {"tiles":[2801, 283]},      {"tiles":[2801]},       {"tiles":[2801]},       {"tiles":[2801, 11514]},        {"tiles":[2801, 11515]},        {"tiles":[2801, 11516]},{"tiles":[2801, 11517]},                {"tiles":[2801, 11518]},         {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801]},          {"tiles":[2801]},           {"tiles":[2801]},           {"tiles":[2801]},       {"tiles":[2801]},       {"tiles":[2801]},               {"tiles":[2801]},               {"tiles":[2801]},       {"tiles":[2801]},                       {"tiles":[2801]},                {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 1825]},    {"tiles":[2801, 1826]},     {"tiles":[2801]},           {"tiles":[2801]},       {"tiles":[2801]},       {"tiles":[2801]},               {"tiles":[2801]},               {"tiles":[2801]},       {"tiles":[2801]},                       {"tiles":[2801]},                {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 2943]},    {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]}, {"tiles":[2801, 2943]}, {"tiles":[2801]},               {"tiles":[2801]},               {"tiles":[2801, 8437]}, {"tiles":[2801]},                       {"tiles":[2801]},                {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 2943]},    {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]}, {"tiles":[2801, 2943]}, {"tiles":[2801]},               {"tiles":[2801]},               {"tiles":[2801, 8577]}, {"tiles":[2801]},                       {"tiles":[2801]},                {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 2943]},    {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]}, {"tiles":[2801, 2943]}, {"tiles":[2801]},               {"tiles":[2801]},               {"tiles":[2801, 8717]}, {"tiles":[2801]},                       {"tiles":[2801]},                {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 2943]},    {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]}, {"tiles":[2801, 2943]}, {"tiles":[2801]},               {"tiles":[2801]},               {"tiles":[2801]},       {"tiles":[2801]},                       {"tiles":[2801]},                {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}],
    [{"tiles":[2801, 2943]},    {"tiles":[2801, 2943]},     {"tiles":[2801, 2943]},     {"tiles":[2801, 2803]}, {"tiles":[2801, 2943]}, {"tiles":[2801]},               {"tiles":[2801]},               {"tiles":[2801]},       {"tiles":[2801]},                       {"tiles":[2801, 3539]},          {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}, {"tiles":[2801]}]

]';

function getStorable($json) {
	$json = str_replace("tiles", "&H;", $json);
	$json = str_replace("[", "&A;", $json);
	$json = str_replace("]", "&B;", $json);
	$json = str_replace("{", "&C;", $json);
	$json = str_replace("}", "&D;", $json);
	$json = str_replace('"', "&E;", $json);
	$json = str_replace(":", "&F;", $json);
	$json = str_replace(",", "&G;", $json);
	$json = str_replace(" ", "", $json);
	$json = str_replace("
", "", $json);

	return $json;
}

function decryptStorable($encrypted) {
	$encrypted = str_replace("&A;", "[", $encrypted);
	$encrypted = str_replace("&B;", "]", $encrypted);
	$encrypted = str_replace("&C;", "{", $encrypted);
	$encrypted = str_replace("&D;", "}", $encrypted);
	$encrypted = str_replace('&E;', '"', $encrypted);
	$encrypted = str_replace("&F;", ":", $encrypted);
	$encrypted = str_replace("&G;", ",", $encrypted);
	$encrypted = str_replace("&H;", "tiles", $encrypted);

	return $encrypted;
}

$encrypted = getStorable($array);
header("Content-type: application/json");
echo(decryptStorable($encrypted));
